$(document).ready(function(){
	$('a').tooltip({
  	placement : 'bottom'
  });
  $('button').tooltip({
  	placement : 'bottom'
  });
  $('img').tooltip({
  	placement : 'top'
  });
	$(".tooltip").tooltip();
  $("a[rel=tooltip]").tooltip();

	$(".iconaddcontributor, .playslideshow, .skipquestion, .iconsignout, .iconhelp, .iconfamtree").fadeTo("fast", 0.6);
	$(".iconaddcontributor, .playslideshow, .skipquestion, .iconsignout, .iconhelp, .iconfamtree").hover(function() {
		$(this).fadeTo('fast',1);
	}, function() {
   	$(this).fadeTo("fast", 0.6);
 	});
	$(".iconaddcontributor, .playslideshow").click(function() {
		$(this).fadeTo('fast',1);
	});

	$(".newmemorybtn").fadeTo("fast", 0.8);
	$(".newmemorybtn").hover(function() {
		$(this).fadeTo('fast',1);
	}, function() {
   	$(this).fadeTo("fast", 0.8);
 	});
	$(".iconaddcontributor, .playslideshow").click(function() {
		$(this).fadeTo('fast',1);
	});


	$(".playslideshow").click(function() {
		$('#slideshow').removeClass("hide");
	 	$('.flexslider').flexslider({
	    	animation: "slide"
		});
	});

	$('#newmemory').collapse("hide");
	
	$('[placeholder]').focus(function() {
	  var input = $(this);
	  if (input.val() == input.attr('placeholder')) {
	    input.val('');
	    input.removeClass('placeholder');
	  }
	}).blur(function() {
	  var input = $(this);
	  if (input.val() == '' || input.val() == input.attr('placeholder')) {
	    input.addClass('placeholder');
	    input.val(input.attr('placeholder'));
	  }
	}).blur();

	$('[placeholder]').parents('form').submit(function() {
	  $(this).find('[placeholder]').each(function() {
	    var input = $(this);
	    if (input.val() == input.attr('placeholder')) {
	      input.val('');
	    }
	  })
	});
	
	$('.addphoto-icon ').hover(function() {
		$(this).fadeTo('fast',1);
	}, function() {
   	$(this).fadeTo("fast", 0.6);
 	});

 	$('.addphoto-icon').click(function() {
 		$('.addphoto-icon').fadeTo('fast',1);
 		$('.addphoto').toggleClass("hidden");
 		//$('.messageSection').toggleClass ("withphoto");
 		//$('.messageBox').toggleClass ("withphoto");
 	});

	$('.skipquestion').click(function() {

		skipQuestion();
		resetQuestion();

 	});

 	$('#memorycounter').text('250');
	$('#memory_content').keypress(function (e) {
		if((e.which == 13) || (e.which < 0x20)) {
	      e.preventDefault();
	      return false;
	    }
	    
	    var left = 250 - $(this).val().length;
	    if (left < 0) {
	        $('#memorycounter').addClass("text-error");
	    }
	    $('#memorycounter').text(left);
		    
	});

	$('.coachmarks').click(function() {
		$('.modal.in').modal('hide') 
	});


	$('#newuserstorybook').on('show', function () {
	    $('.coachmarks').removeClass('hide');
	});

	$('#newuserstorybook').on('hide', function () {
	    $('.coachmarks').addClass('hide');
	
	});

	var $container = $('#content');


	// use this if you want to use the spinner
	// $(".createstorybook_button").click(function(){
	// $('#betadescmodal').modal('hide');
 	// $('#loading_spinner').modal('show');
	// });

	$('#loading_spinner').on('show', function () {
	    $('.loading-spinner-icon').removeClass('hide');
	});

	$('#loading_spinner').on('hide', function () {
	    $('.loading-spinner-icon').addClass('hide');
	
	});

  $container.imagesLoaded( function() {
    $container.isotope({
      itemSelector : '.newbox', 
     /* filter: '*',*/
      layoutMode: 'masonryHorizontal',
      animationEngine: 'jquery',
      animationOptions: {
         easing: 'linear',
         queue: false,
       }
    });
  });

});
