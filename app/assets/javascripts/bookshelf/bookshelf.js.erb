$(document).ready(function(){
 	$('a').tooltip({
  	placement : 'bottom'
  });
  $('button').tooltip({
  	placement : 'right'
  });
  
  $('i').tooltip({
  	placement : 'bottom'
  });
  
  $('img').tooltip({
  	placement : 'top'
  });
	$(".tooltip").tooltip();
  $("a[rel=tooltip]").tooltip();
  $('[placeholder]').focus(function() {
    var input = $(this);
    if (input.val() == input.attr('placeholder')) {
      input.val('');
      input.removeClass('placeholder');
    }
  }).blur(function() {
    var input = $(this);
    if (input.val() == '' || input.val() == input.attr('placeholder')) {
      input.addClass('placeholder');
      input.val(input.attr('placeholder'));
    }
  }).blur();

  $('[placeholder]').parents('form').submit(function() {
    $(this).find('[placeholder]').each(function() {
      var input = $(this);
      if (input.val() == input.attr('placeholder')) {
        input.val('');
      }
    })
  });
  
  $(".startstorybook_button").click(function(){
    $('#newstorybook').modal('hide');
    $('#loading_spinner').modal('show');
  });

  $('#loading_spinner').on('show', function () {
      $('.loading-spinner-icon').removeClass('hide');
  });

  $('#loading_spinner').on('hide', function () {
      $('.loading-spinner-icon').addClass('hide');
  
  });

  $('#newuserstorybook').on('show', function () {
     $('.welcomefamilytales-coachmark').removeClass('hide');
  });

  $('#newuserstorybook').on('hide', function () {
    $('.welcomefamilytales-coachmark').addClass('hide');
    $('.bookshelf-coachmark').addClass('hide');
    $('.bookshelfinvite-coachmark').addClass('hide');
    $('.firststorybook-coachmark').addClass('hide');
  });

  $('.skipguide').click(function(){
    $('.welcomefamilytales-coachmark').addClass('hide');
    $('.bookshelf-coachmark').addClass('hide');
    $('.bookshelfinvite-coachmark').addClass('hide');
    $('.firststorybook-coachmark').removeClass('hide');
  });

  $('.nextguide').click(function(){
     if (!$('.welcomefamilytales-coachmark').hasClass("hide")) {
        $('.welcomefamilytales-coachmark').addClass('hide');
        $('.bookshelf-coachmark').removeClass('hide');
     }
      else if (!$('.bookshelf-coachmark').hasClass("hide")) {
        $('.bookshelf-coachmark').addClass('hide');
        $('.bookshelfinvite-coachmark').removeClass('hide');
     }

     else if (!$('.bookshelfinvite-coachmark').hasClass("hide")) {
        $('.bookshelfinvite-coachmark').addClass('hide');
        $('.firststorybook-coachmark').removeClass('hide');
     }
     else if (!$('.firststorybook-coachmark').hasClass("hide")) {
        $('.firststorybook-coachmark').addClass('hide');
        $('#newuserstorybook').modal('hide');
     }
  });



  $('.firststorybook-coachmark').click(function() {
    $('.modal.in').modal('hide');
  });

  $(".bookitem").hover(function() {
    $(this).find(".bookshelf-edit-btn").fadeTo(50,1);

  }, function() {
    $(this).find(".bookshelf-edit-btn").fadeTo(50,0);
  });
});